<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension-point
         id="outlineExtension"
         name="Groovy Outline Extension"
         schema="schema/outlineExtension.exsd"
   />
   <extension-point
         id="syntaxHighlightingExtension"
         name="Groovy Syntax Highlighting Extension"
         schema="schema/syntaxHighlightingExtension.exsd"
   />

   <extension point="org.eclipse.debug.ui.launchConfigurationTypeImages">
      <launchConfigurationTypeImage
            configTypeID="org.codehaus.groovy.eclipse.groovyConsoleLaunchConfiguration"
            icon="$nl$/icons/run_as_groovy.png"
            id="org.codehaus.groovy.eclipse.groovyLaunchConfigurationImage.groovyConsole">
      </launchConfigurationTypeImage>
      <launchConfigurationTypeImage
            configTypeID="org.codehaus.groovy.eclipse.groovyScriptLaunchConfiguration"
            icon="$nl$/icons/run_as_groovy.png"
            id="org.codehaus.groovy.eclipse.groovyLaunchConfigurationImage.groovyScript">
      </launchConfigurationTypeImage>
      <launchConfigurationTypeImage
            configTypeID="org.codehaus.groovy.eclipse.groovyShellLaunchConfiguration"
            icon="$nl$/icons/run_as_groovy.png"
            id="org.codehaus.groovy.eclipse.groovyLaunchConfigurationImage.groovyShell">
      </launchConfigurationTypeImage>
   </extension>

   <extension point="org.eclipse.debug.ui.launchConfigurationTabGroups">
      <launchConfigurationTabGroup
            class="org.codehaus.groovy.eclipse.launchers.LaunchConfigurationTabGroup"
            description="Launch an interactive Groovy Console"
            id="org.codehaus.groovy.eclipse.groovyConsoleLaunchConfiguration.tabGroup"
            type="org.codehaus.groovy.eclipse.groovyConsoleLaunchConfiguration">
      </launchConfigurationTabGroup>
      <launchConfigurationTabGroup
            class="org.codehaus.groovy.eclipse.launchers.LaunchConfigurationTabGroup"
            description="Launch a Groovy Script"
            id="org.codehaus.groovy.eclipse.groovyScriptLaunchConfiguration.tabGroup"
            type="org.codehaus.groovy.eclipse.groovyScriptLaunchConfiguration">
      </launchConfigurationTabGroup>
      <launchConfigurationTabGroup
            class="org.codehaus.groovy.eclipse.launchers.LaunchConfigurationTabGroup"
            description="Launch an interactive Groovy Shell"
            id="org.codehaus.groovy.eclipse.groovyShellLaunchConfiguration.tabGroup"
            type="org.codehaus.groovy.eclipse.groovyShellLaunchConfiguration">
      </launchConfigurationTabGroup>
   </extension>

   <extension point="org.eclipse.debug.ui.launchShortcuts">
      <shortcut
            class="org.codehaus.groovy.eclipse.launchers.GroovyConsoleLaunchShortcut"
            description="Run a Groovy Console"
            icon="$nl$/icons/run_as_groovy.png"
            id="org.codehaus.groovy.eclipse.groovyConsoleLaunchShortcut"
            label="Groovy Console"
            modes="run">
         <contextualLaunch>
            <enablement>
               <with variable="selection">
                  <count value="1"/><!-- one item selected -->
                  <iterate>
                     <or>
                        <reference definitionId="org.eclipse.jdt.groovy.core.isGroovyProject"/>
                        <and>
                           <reference definitionId="org.eclipse.jdt.groovy.core.isGroovySource"/>
                           <test property="org.eclipse.jdt.groovy.core.hasMain"/>
                        </and>
                     </or>
                  </iterate>
               </with>
            </enablement>
         </contextualLaunch>
         <description
               description="Open a Groovy Console"
               mode="run">
         </description>
      </shortcut>
      <shortcut
            class="org.codehaus.groovy.eclipse.launchers.GroovyScriptLaunchShortcut"
            description="Run a Groovy script"
            icon="$nl$/icons/run_as_groovy.png"
            id="org.codehaus.groovy.eclipse.groovyScriptLaunchShortcut"
            label="Groovy Script"
            modes="run,debug">
         <contextualLaunch>
            <enablement>
               <with variable="selection">
                  <count value="1"/><!-- one item selected -->
                  <iterate>
                     <reference definitionId="org.eclipse.jdt.groovy.core.isGroovySource"/>
                     <test property="org.eclipse.jdt.groovy.core.isScript"/>
                  </iterate>
               </with>
            </enablement>
         </contextualLaunch>
         <description
               description="Compile and run a Groovy script"
               mode="run">
         </description>
         <description
               description="Compile and debug a Groovy script"
               mode="debug">
         </description>
      </shortcut>
      <shortcut
            class="org.codehaus.groovy.eclipse.launchers.GroovyShellLaunchShortcut"
            description="Launch an interactive Groovy Shell for the given project"
            icon="$nl$/icons/run_as_groovy.png"
            id="org.codehaus.groovy.eclipse.debug.ui.groovyShellLaunchShortcut"
            label="Groovy Shell"
            modes="run,debug">
         <contextualLaunch>
            <enablement>
               <with variable="selection">
                  <count value="1"/><!-- one item selected -->
                  <iterate>
                     <reference definitionId="org.eclipse.jdt.groovy.core.isGroovyProject"/>
                  </iterate>
               </with>
            </enablement>
         </contextualLaunch>
         <description
               description="Run a Groovy Shell for the project"
               mode="run">
         </description>
         <description
               description="Debug a Groovy Shell for the project"
               mode="debug">
         </description>
      </shortcut>
   </extension>

   <extension point="org.eclipse.ui.editors">
      <editor
            class="org.codehaus.groovy.eclipse.editor.GroovyEditor"
            contributorClass="org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditorActionContributor"
            default="true"
            icon="$nl$/icons/groovy_file.png"
            id="org.codehaus.groovy.eclipse.editor.GroovyEditor"
            name="Groovy Editor"
            symbolicFontName="org.eclipse.jdt.ui.editors.textfont">
         <contentTypeBinding
               contentTypeId="org.eclipse.jdt.groovy.core.groovySource">
         </contentTypeBinding>
         <contentTypeBinding
               contentTypeId="org.eclipse.buildship.core.files.gradlebuildscript">
         </contentTypeBinding>
      </editor>
   </extension>

   <extension point="org.eclipse.core.filebuffers.documentSetup"
         id="org.codehaus.groovy.eclipse.editor.GroovyDocumentSetupParticipant">
      <participant
            class="org.codehaus.groovy.eclipse.editor.GroovyDocumentSetupParticipant"
            contentTypeId="org.eclipse.jdt.groovy.core.groovySource">
      </participant>
   </extension>
   <extension point="org.eclipse.core.filebuffers.documentSetup"
         id="org.codehaus.groovy.eclipse.editor.GradleDocumentSetupParticipant">
      <participant
            class="org.codehaus.groovy.eclipse.editor.GroovyDocumentSetupParticipant"
            contentTypeId="org.eclipse.buildship.core.files.gradlebuildscript">
      </participant>
   </extension>

   <extension point="org.eclipse.ui.workbench.texteditor.codeMiningProviders">
      <codeMiningProvider
            class="org.eclipse.jdt.internal.ui.javaeditor.codemining.JavaElementCodeMiningProvider"
            id="org.codehaus.groovy.eclipse.mining.elementReferences">
         <enabledWhen>
            <and>
               <test property="org.eclipse.jdt.ui.hasPreference" value="editor_codemining_enabled"/>
               <or>
                  <test property="org.eclipse.jdt.ui.hasPreference" value="java.codemining.references"/>
                  <test property="org.eclipse.jdt.ui.hasPreference" value="java.codemining.implementations"/>
               </or>
               <with variable="editor">
                  <instanceof value="org.codehaus.groovy.eclipse.editor.GroovyEditor"/>
               </with>
               <with variable="editorInput">
                  <or>
                     <adapt type="org.eclipse.core.resources.IFile">
                        <test property="org.eclipse.core.resources.contentTypeId"
                           value="org.eclipse.jdt.groovy.core.groovySource"/>
                     </adapt>
	                 <!--adapt type="org.eclipse.jdt.core.IClassFile">
                        <instanceof value="org.eclipse.jdt.core.IClassFile"/>
                     </adapt-->
                  </or>
               </with>
            </and>
         </enabledWhen>
      </codeMiningProvider>
      <codeMiningProvider
            class="org.codehaus.groovy.eclipse.editor.mining.MethodParameterCodeMiningProvider"
            id="org.codehaus.groovy.eclipse.mining.methodParameters">
         <enabledWhen>
            <and>
               <test property="org.eclipse.jdt.ui.hasPreference" value="editor_codemining_enabled"/>
               <test property="org.eclipse.jdt.ui.hasPreference" value="java.codemining.parameterNames"/>
               <with variable="editor">
                  <instanceof value="org.codehaus.groovy.eclipse.editor.GroovyEditor"/>
               </with>
               <with variable="editorInput">
                  <or>
                     <adapt type="org.eclipse.core.resources.IFile">
                        <test property="org.eclipse.core.resources.contentTypeId"
                              value="org.eclipse.jdt.groovy.core.groovySource"/>
                     </adapt>
                     <!--adapt type="org.eclipse.jdt.core.IClassFile">
                        <instanceof value="org.eclipse.jdt.core.IClassFile"/>
                     </adapt-->
                  </or>
               </with>
            </and>
         </enabledWhen>
      </codeMiningProvider>
   </extension>

   <extension point="org.eclipse.ui.newWizards">
      <category
            id="org.codehaus.groovy.eclipse"
            name="Groovy">
      </category>
      <wizard
            category="org.codehaus.groovy.eclipse"
            class="org.codehaus.groovy.eclipse.wizards.NewProjWizard"
            finalPerspective="org.eclipse.jdt.ui.JavaPerspective"
            icon="$nl$/icons/wiz/newgroovyproject.png"
            id="org.codehaus.groovy.eclipse.ui.groovyProjectWizard"
            name="Groovy Project"
            preferredPerspectives="org.eclipse.jdt.ui.JavaPerspective,org.grails.ide.eclipse.perspective"
            project="true">
         <description>
            Create a Groovy project
         </description>
         <keywordReference
               id="org.codehaus.groovy.eclipse.ui.keyword.groovy">
         </keywordReference>
      </wizard>
      <wizard
            category="org.codehaus.groovy.eclipse"
            finalPerspective="org.eclipse.jdt.ui.JavaPerspective"
            icon="$nl$/icons/wiz/newgroovyclass.png"
            id="org.codehaus.groovy.eclipse.ui.groovyClassWizard"
            name="Groovy Type"
            preferredPerspectives="org.eclipse.jdt.ui.JavaPerspective,org.grails.ide.eclipse.perspective">
         <class class="org.codehaus.groovy.eclipse.wizards.NewTypeWizard">
            <parameter
                  name="javatype"
                  value="true">
            </parameter>
         </class>
         <description>
            Create a Groovy type
         </description>
         <keywordReference
               id="org.codehaus.groovy.eclipse.ui.keyword.groovy">
         </keywordReference>
      </wizard>
      <wizard
            category="org.codehaus.groovy.eclipse"
            finalPerspective="org.eclipse.jdt.ui.JavaPerspective"
            icon="$nl$/icons/wiz/newgroovytestcase.png"
            id="org.codehaus.groovy.eclipse.ui.groovyJUnitWizard"
            name="Groovy Test"
            preferredPerspectives="org.eclipse.jdt.ui.JavaPerspective,org.grails.ide.eclipse.perspective">
         <class class="org.codehaus.groovy.eclipse.wizards.NewTestWizard">
            <parameter
                  name="javatype"
                  value="true">
            </parameter>
         </class>
         <description>
            Create a Groovy test class
         </description>
         <keywordReference
               id="org.codehaus.groovy.eclipse.ui.keyword.groovy">
         </keywordReference>
      </wizard>
   </extension>

   <extension point="org.eclipse.ui.menus">
       <menuContribution
             allPopups="false"
             locationURI="popup:#GroovyCompilationUnitEditorContext?before=additions">
          <separator
                name="groovy.debug">
          </separator>
          <command
                commandId="org.eclipse.jdt.debug.ui.commands.StepIntoSelection">
             <visibleWhen
                   checkEnabled="false">
                <and>
                   <systemTest
                         property="org.eclipse.jdt.debug.ui.debuggerActive"
                         value="true">
                   </systemTest>
                   <systemTest
                         property="org.eclipse.jdt.debug.ui.instanceof.IJavaStackFrame"
                         value="true">
                   </systemTest>
                   <with
                         variable="activeMenuSelection">
                      <instanceof
                            value="org.eclipse.jface.text.ITextSelection">
                      </instanceof>
                   </with>
                </and>
             </visibleWhen>
          </command>
       </menuContribution>
   </extension>

   <extension point="org.eclipse.ui.popupMenus">
      <objectContribution
            adaptable="true"
            id="org.codehaus.groovy.eclipse.groovySubmenu"
            objectClass="org.eclipse.core.resources.IResource">
         <menu
               id="groovy"
               label="Groovy"
               path="additions">
            <separator
                  name="default">
            </separator>
            <separator
                  name="analyze">
            </separator>
            <separator
                  name="refresh">
            </separator>
         </menu>
      </objectContribution>

      <objectContribution
            adaptable="true"
            id="org.codehaus.groovy.eclipse.groovyProjectContributions"
            objectClass="org.eclipse.core.resources.IProject">
         <action
               class="org.codehaus.groovy.eclipse.actions.RemoveGroovyNatureAction"
               enablesFor="1"
               id="org.codehaus.groovy.eclipse.removenature.action"
               label="Remove Groovy nature from project"
               menubarPath="groovy/configure">
         </action>
         <action
               class="org.codehaus.groovy.eclipse.actions.AddGroovyClasspathContainerAction"
               enablesFor="1"
               id="org.codehaus.groovy.eclipse.importlibs.action"
               label="Groovy Libraries classpath container"
               menubarPath="groovy/configure"
               tooltip="Add or remove the Groovy Libraries classpath container">
         </action>
         <action
               class="org.codehaus.groovy.eclipse.actions.FixCompilerMismatches"
               definitionId="org.codehaus.groovy.eclipse.ui.fixCompilerMismatch"
               enablesFor="+"
               id="org.codehaus.groovy.eclipse.ui.fixCompilerMismatch.action"
               label="Fix Compiler Mismatch problems"
               menubarPath="groovy/refresh"><!-- TODO: Test for compiler mismatch problem marker. -->
         </action>
         <visibility>
            <objectState
                  name="nature"
                  value="org.eclipse.jdt.groovy.core.groovyNature">
            </objectState>
         </visibility>
      </objectContribution>

      <objectContribution
            adaptable="true"
            id="org.codehaus.groovy.eclipse.groovyFileContributions"
            objectClass="org.eclipse.core.resources.IFile">
         <action
               class="org.codehaus.groovy.eclipse.editor.actions.RenameToJavaAction"
               definitionId="org.codehaus.groovy.eclipse.ui.convertToJava"
               enablesFor="*"
               id="org.codehaus.groovy.eclipse.convertToJava.action"
               label="Convert file extension to Java"
               menubarPath="groovy/default">
            <enablement>
               <not>
                  <objectState
                        name="extension"
                        value="java">
                  </objectState>
               </not>
            </enablement>
         </action>
         <action
               class="org.codehaus.groovy.eclipse.editor.actions.RenameToGroovyAction"
               definitionId="org.codehaus.groovy.eclipse.ui.convertToGroovy"
               enablesFor="*"
               id="org.codehaus.groovy.eclipse.convertToGroovy.action"
               label="Convert file extension to Groovy"
               menubarPath="groovy/default">
            <enablement>
               <not>
                  <objectState
                        name="extension"
                        value="groovy">
                  </objectState>
               </not>
            </enablement>
         </action>
         <visibility>
            <and>
               <objectState
                     name="projectNature"
                     value="org.eclipse.jdt.groovy.core.groovyNature">
               </objectState>
               <or>
                  <objectState
                        name="contentTypeId"
                        value="org.eclipse.jdt.core.javaSource">
                  </objectState>
                  <objectState
                        name="contentTypeId"
                        value="org.eclipse.jdt.groovy.core.groovySource">
                  </objectState>
               </or>
            </and>
         </visibility>
      </objectContribution>

      <!-- In "Configure" sub-menu -->
      <objectContribution
            adaptable="true"
            id="org.codehaus.groovy.eclipse.nonGroovyContributions"
            objectClass="org.eclipse.core.resources.IProject">
         <action
               class="org.codehaus.groovy.eclipse.actions.AddGroovyNatureAction"
               enablesFor="1"
               id="org.codehaus.groovy.eclipse.addnature.action"
               label="Convert to Groovy Project"
               menubarPath="org.eclipse.ui.projectConfigure/additions">
         </action>
         <visibility>
            <and>
               <objectState name="nature" value="org.eclipse.jdt.core.javanature"/>
               <not>
                  <objectState name="nature" value="org.eclipse.jdt.groovy.core.groovyNature"/>
               </not>
               <objectState name="open" value="true"/>
            </and>
         </visibility>
      </objectContribution>

      <objectContribution
            adaptable="true"
            id="org.codehaus.groovy.eclipse.legacyContributions"
            objectClass="org.eclipse.core.resources.IProject">
         <action
               class="org.codehaus.groovy.eclipse.actions.ConvertLegacyProjectAction"
               enablesFor="1"
               id="org.codehaus.groovy.eclipse.convert.action"
               label="Convert Legacy Groovy Project"
               menubarPath="org.eclipse.ui.projectConfigure/additions">
         </action>
         <visibility>
            <objectState
                  name="nature"
                  value="org.codehaus.groovy.eclipse.groovyNature">
            </objectState>
         </visibility>
      </objectContribution>

      <!-- Toggle breakpoint action and JDT's other breakpoint actions -->
      <viewerContribution
            id="org.codehaus.groovy.eclipse.ui.CompilationUnitRulerActions"
            targetID="#GroovyCompilationUnitRulerContext">
         <action
               class="org.eclipse.debug.ui.actions.RulerEnableDisableBreakpointActionDelegate"
               helpContextId="enable_disable_breakpoint_action_context"
               id="org.eclipse.jdt.debug.ui.actions.EnableDisableBreakpointRulerActionDelegate"
               label="Disable Breakpoint"
               menubarPath="debug">
         </action>
         <action
               class="org.codehaus.groovy.eclipse.debug.ui.GroovyBreakpointRulerActionDelegate"
               helpContextId="manage_breakpoint_action_context"
               icon="platform:/plugin/org.eclipse.debug.ui/$nl$/icons/full/obj16/brkp_obj.png"
               id="org.codehaus.groovy.eclipse.debug.ui.GroovyBreakpointRulerActionDelegate"
               label="Toggle Breakpoint"
               menubarPath="debug">
         </action>
         <action
               class="org.eclipse.ui.texteditor.TaskRulerAction"
               helpContextId="org.eclipse.ui.AddTask_action_context"
               id="org.eclipse.ui.texteditor.TaskRulerAction"
               label="Add Task..."
               menubarPath="add"
               tooltip="%AddTask.tooltip">
         </action>
         <action
               class="org.eclipse.ui.texteditor.BookmarkRulerAction"
               helpContextId="org.eclipse.ui.bookmark_action_context"
               id="org.eclipse.ui.texteditor.BookmarkRulerAction"
               label="Add Bookmark..."
               menubarPath="add">
         </action>
         <action
               class="org.eclipse.jdt.internal.ui.javaeditor.JavaSelectRulerAction"
               helpContextId="org.eclipse.ui.bookmark_action_context"
               id="org.eclipse.jdt.internal.ui.javaeditor.JavaSelectRulerAction"
               label="Go to Annotation"
               menubarPath="add">
         </action>
         <action
               class="org.eclipse.jdt.debug.ui.actions.JavaBreakpointPropertiesRulerActionDelegate"
               helpContextId="breakpoint_properties_action_context"
               id="org.eclipse.jdt.debug.ui.actions.JavaBreakpointPropertiesRulerActionDelegate"
               label="Breakpoint Properties..."
               menubarPath="group.properties">
         </action>
      </viewerContribution>

      <viewerContribution
            id="org.codehaus.groovy.eclipse.ui.CompilationUnitDebuggerActions"
            targetID="#GroovyCompilationUnitEditorContext">
         <visibility>
            <and>
               <systemProperty
                     name="org.eclipse.jdt.debug.ui.debuggerActive"
                     value="true">
               </systemProperty>
               <objectClass
                     name="org.eclipse.jface.text.ITextSelection">
               </objectClass>
            </and>
         </visibility>
         <action
               class="org.eclipse.debug.ui.actions.RunToLineActionDelegate"
               definitionId="org.eclipse.debug.ui.commands.RunToLine"
               helpContextId="run_to_line_action_context"
               icon="platform:/plugin/org.eclipse.debug.ui/$nl$/icons/full/elcl16/runtoline_co.png"
               id="greclipse.debug.popup.RunToLine"
               label="%runToLineAction.label"
               menubarPath="groovy.debug">
         </action>
         <!--action
               class="org.eclipse.jdt.internal.debug.ui.actions.ExecuteAction"
               definitionId="org.eclipse.jdt.debug.ui.commands.Execute"
               helpContextId="execute_action_context"
               icon="platform:/plugin/org.eclipse.debug.ui/$nl$/icons/full/etool16/run_sbook.png"
               id="greclipse.debug.popup.Execute"
               label="%Execute.label"
               menubarPath="groovy.debug">
         </action>
         <action
               class="org.eclipse.jdt.internal.debug.ui.actions.PopupDisplayAction"
               definitionId="org.eclipse.jdt.debug.ui.commands.Display"
               helpContextId="display_action_context"
               icon="platform:/plugin/org.eclipse.debug.ui/$nl$/icons/full/etool16/disp_sbook.png"
               id="greclipse.debug.popup.Display"
               label="%Display.label"
               menubarPath="groovy.debug">
         </action>
         <action
               class="org.eclipse.jdt.internal.debug.ui.actions.PopupInspectAction"
               definitionId="org.eclipse.jdt.debug.ui.commands.Inspect"
               helpContextId="inspect_action_context"
               icon="platform:/plugin/org.eclipse.debug.ui/$nl$/icons/full/etool16/insp_sbook.png"
               id="greclipse.debug.popup.Inspect"
               label="%Inspect.label"
               menubarPath="groovy.debug">
         </action>
         <action
               class="org.eclipse.jdt.internal.debug.ui.actions.WatchAction"
               helpContextId="watch_action_context"
               icon="platform:/plugin/org.eclipse.debug.ui/$nl$/icons/full/etool16/watch_exp.png"
               id="greclipse.debug.popup.Watch"
               label="%Watch.label"
               menubarPath="groovy.debug">
         </action-->
      </viewerContribution>

      <!-- Groovy Refactorings -->
      <viewerContribution
            id="org.codehaus.groovy.eclipse.ui.CompilationUnitEditorActions"
            targetID="#GroovyCompilationUnitEditorContext">
         <menu
               id="org.codehaus.groovy.refactoring.menu"
               label="Groovy Refac&amp;tor">
            <separator
                  name="refactoring">
            </separator>
         </menu>
         <action
               class="org.codehaus.groovy.eclipse.refactoring.actions.ConvertToMethodAction"
               definitionId="org.codehaus.groovy.eclipse.ui.convertToMethod"
               id="org.groovy.codehaus.eclipse.ui.actions.convertToMethodContribution"
               label="Convert closure to method"
               menubarPath="org.codehaus.groovy.refactoring.menu/refactoring">
         </action>
         <action
               class="org.codehaus.groovy.eclipse.refactoring.actions.ConvertToClosureAction"
               definitionId="org.codehaus.groovy.eclipse.ui.convertToClosure"
               id="org.groovy.codehaus.eclipse.ui.actions.convertToClosureContribution"
               label="Convert method to closure"
               menubarPath="org.codehaus.groovy.refactoring.menu/refactoring">
         </action>
      </viewerContribution>
   </extension>

   <extension point="org.eclipse.ui.actionSets">
      <actionSet
            id="org.codehaus.groovy.eclipse.ui.groovyElementCreation"
            label="Groovy Element Creation"
            visible="false">
         <action
               class="org.codehaus.groovy.eclipse.actions.OpenNewProjectWizardAction"
               icon="$nl$/icons/wiz/newgroovyproject.png"
               id="opengroovyprojectwizard"
               label="Groovy Project..."
               toolbarPath="org.eclipse.jdt.ui.JavaElementCreationActionSet/JavaWizards"
               tooltip="New Groovy Project">
         </action>
      </actionSet>
      <actionSet
            description="Converts between groovy and java file extensions"
            id="org.codehaus.groovy.eclipse.conversion"
            label="Groovy Source Conversion"
            visible="false">
         <action
               class="org.codehaus.groovy.eclipse.editor.actions.RenameToGroovyAction"
               definitionId="org.codehaus.groovy.eclipse.ui.convertToGroovy"
               enablesFor="*"
               id="org.codehaus.groovy.eclipse.convertToGroovy.action"
               label="Convert file extension to Groovy">
            <enablement>
               <objectState
                     name="extension"
                     value="java">
               </objectState>
            </enablement>
         </action>
         <action
               class="org.codehaus.groovy.eclipse.editor.actions.RenameToJavaAction"
               definitionId="org.codehaus.groovy.eclipse.ui.convertToJava"
               enablesFor="*"
               id="org.codehaus.groovy.eclipse.convertToJava.action"
               label="Convert file extension to Java">
            <enablement>
               <objectState
                     name="extension"
                     value="groovy">
               </objectState>
            </enablement>
         </action>
      </actionSet>
   </extension>

   <extension point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension
            targetID="*">
         <hiddenToolBarItem
               id="opengroovyprojectwizard">
         </hiddenToolBarItem>
      </perspectiveExtension>
      <perspectiveExtension
            targetID="org.eclipse.jdt.ui.JavaPerspective">
         <actionSet
               id="org.codehaus.groovy.eclipse.conversion"/>
         <actionSet
               id="org.codehaus.groovy.eclipse.ui.groovyElementCreation"/>
         <newWizardShortcut
               id="org.codehaus.groovy.eclipse.ui.groovyProjectWizard"/>
         <newWizardShortcut
               id="org.codehaus.groovy.eclipse.ui.groovyClassWizard"/>
         <newWizardShortcut
               id="org.codehaus.groovy.eclipse.ui.groovyJUnitWizard"/>
      </perspectiveExtension>
      <perspectiveExtension
            targetID="org.eclipse.jdt.ui.JavaBrowsingPerspective">
         <actionSet
               id="org.codehaus.groovy.eclipse.conversion"/>
         <actionSet
               id="org.codehaus.groovy.eclipse.ui.groovyElementCreation"/>
         <newWizardShortcut
               id="org.codehaus.groovy.eclipse.ui.groovyProjectWizard"/>
         <newWizardShortcut
               id="org.codehaus.groovy.eclipse.ui.groovyClassWizard"/>
         <newWizardShortcut
               id="org.codehaus.groovy.eclipse.ui.groovyJUnitWizard"/>
      </perspectiveExtension>
      <perspectiveExtension
            targetID="org.eclipse.jdt.ui.JavaHierarchyPerspective">
         <actionSet
               id="org.codehaus.groovy.eclipse.conversion"/>
         <actionSet
               id="org.codehaus.groovy.eclipse.ui.groovyElementCreation"/>
         <newWizardShortcut
               id="org.codehaus.groovy.eclipse.ui.groovyProjectWizard"/>
         <newWizardShortcut
               id="org.codehaus.groovy.eclipse.ui.groovyClassWizard"/>
         <newWizardShortcut
               id="org.codehaus.groovy.eclipse.ui.groovyJUnitWizard"/>
      </perspectiveExtension>
      <perspectiveExtension
            targetID="org.eclipse.jst.j2ee.J2EEPerspective">
         <actionSet
               id="org.codehaus.groovy.eclipse.conversion"/>
         <actionSet
               id="org.codehaus.groovy.eclipse.ui.groovyElementCreation"/>
         <newWizardShortcut
               id="org.codehaus.groovy.eclipse.ui.groovyProjectWizard"/>
         <newWizardShortcut
               id="org.codehaus.groovy.eclipse.ui.groovyClassWizard"/>
         <newWizardShortcut
               id="org.codehaus.groovy.eclipse.ui.groovyJUnitWizard"/>
      </perspectiveExtension>
      <perspectiveExtension
            targetID="org.eclipse.pde.ui.PDEPerspective">
         <actionSet
               id="org.codehaus.groovy.eclipse.conversion"/>
         <actionSet
               id="org.codehaus.groovy.eclipse.ui.groovyElementCreation"/>
      </perspectiveExtension>
   </extension>

   <extension point="org.eclipse.ui.preferencePages">
      <page
            class="org.codehaus.groovy.eclipse.preferences.GroovyPreferencePage"
            id="org.codehaus.groovy.eclipse.preferences"
            name="Groovy">
      </page>
      <page
            category="org.codehaus.groovy.eclipse.preferences"
            class="org.codehaus.groovy.eclipse.preferences.CompilerPreferencesPage"
            id="org.codehaus.groovy.eclipse.preferences.compiler"
            name="Compiler">
         <keywordReference
               id="org.codehaus.groovy.eclipse.ui.keyword.compiler">
         </keywordReference>
      </page>
      <page
            category="org.codehaus.groovy.eclipse.preferences"
            class="org.codehaus.groovy.eclipse.preferences.DebuggerPreferencesPage"
            id="org.codehaus.groovy.eclipse.preferences.debugger"
            name="Debugger">
         <keywordReference
               id="org.codehaus.groovy.eclipse.ui.keyword.debugger">
         </keywordReference>
      </page>
      <page
            category="org.codehaus.groovy.eclipse.preferences"
            class="org.codehaus.groovy.eclipse.preferences.GroovyEditorPreferencesPage"
            id="org.codehaus.groovy.eclipse.preferences.editor"
            name="Editor">
         <keywordReference
               id="org.codehaus.groovy.eclipse.ui.keyword.editor">
         </keywordReference>
      </page>
      <page
            category="org.codehaus.groovy.eclipse.preferences.editor"
            class="org.codehaus.groovy.eclipse.preferences.FormatterPreferencesPage"
            id="org.codehaus.groovy.eclipse.preferences.formatter"
            name="Formatter">
         <keywordReference
               id="org.codehaus.groovy.eclipse.ui.keyword.formatter">
         </keywordReference>
      </page>
      <page
            category="org.codehaus.groovy.eclipse.preferences.editor"
            class="org.codehaus.groovy.eclipse.preferences.SaveActionsPreferencePage"
            id="org.codehaus.groovy.eclipse.ui.preferences.SaveActionsPreferencePage"
            name="Save Actions">
      </page>
   </extension>

   <extension point="org.eclipse.ui.commands">
      <command
            categoryId="org.eclipse.debug.ui.category.run"
            description="Run Groovy Shell"
            id="org.codehaus.groovy.eclipse.debug.ui.groovyShellLaunchShortcut.run"
            name="Run Groovy Shell">
      </command>
      <command
            categoryId="org.eclipse.debug.ui.category.run"
            description="Debug Groovy Shell"
            id="org.codehaus.groovy.eclipse.debug.ui.groovyShellLaunchShortcut.debug"
            name="Debug Groovy Shell">
      </command>
      <command
            categoryId="org.eclipse.debug.ui.category.run"
            description="Run Groovy Console"
            id="org.codehaus.groovy.eclipse.groovyConsoleLaunchShortcut.run"
            name="Run Groovy Console">
      </command>
      <command
            categoryId="org.eclipse.debug.ui.category.run"
            description="Debug Groovy Console"
            id="org.codehaus.groovy.eclipse.groovyConsoleLaunchShortcut.debug"
            name="Debug Groovy Console">
      </command>
      <command
            categoryId="org.eclipse.debug.ui.category.run"
            description="Run Groovy Script"
            id="org.codehaus.groovy.eclipse.groovyScriptLaunchShortcut.run"
            name="Run Groovy Script">
      </command>
      <command
            categoryId="org.eclipse.debug.ui.category.run"
            description="Debug Groovy Script"
            id="org.codehaus.groovy.eclipse.groovyScriptLaunchShortcut.debug"
            name="Debug Groovy Script">
      </command>

      <category
            id="org.codehaus.groovy.eclipse.category.compiler"
            name="Groovy Compiler Commands">
      </category>
      <command
            categoryId="org.codehaus.groovy.eclipse.category.compiler"
            description="Opens a dialog to fix all projects that use a compiler version different from what the workspace provides"
            id="org.codehaus.groovy.eclipse.ui.fixCompilerMismatch"
            name="Fix Groovy Compiler Mismatches">
      </command>

      <command
            categoryId="org.codehaus.groovy.eclipse.editor.category.source"
            description="Populates the search view with all occurrecnes of currently selected token in the file"
            id="org.codehaus.groovy.eclipse.ui.findOccurrences"
            name="Find occurrences in current file">
      </command>

      <command
            categoryId="org.codehaus.groovy.eclipse.refactoring.commands.refactoring"
            description="Converts a file with a java extension to a file with a groovy extension"
            id="org.codehaus.groovy.eclipse.ui.convertToGroovy"
            name="Convert to Groovy">
      </command>
      <command
            categoryId="org.codehaus.groovy.eclipse.refactoring.commands.refactoring"
            description="Converts a file with a groovy extension to a file with a java extension"
            id="org.codehaus.groovy.eclipse.ui.convertToJava"
            name="Convert to Java">
      </command>
      <command
            categoryId="org.codehaus.groovy.eclipse.refactoring.commands.refactoring"
            description="Convert a method declaration to a closure"
            id="org.codehaus.groovy.eclipse.ui.convertToClosure"
            name="Convert to Closure">
      </command>
      <command
            categoryId="org.codehaus.groovy.eclipse.refactoring.commands.refactoring"
            description="Convert a closure declaration to a method"
            id="org.codehaus.groovy.eclipse.ui.convertToMethod"
            name="Convert to Method">
      </command>
      <command
            categoryId="org.codehaus.groovy.eclipse.refactoring.commands.refactoring"
            description="Replace Accessor call with Property read/write"
            id="org.codehaus.groovy.eclipse.ui.convertToProperty"
            name="Convert to Property">
      </command>
   </extension>

   <extension point="org.eclipse.ui.contexts">
      <context
            description="Editing Groovy Source Context"
            id="org.codehaus.groovy.eclipse.editor.groovyEditorScope"
            name="Editing Groovy Source"
            parentId="org.eclipse.jdt.ui.javaEditorScope">
      </context>
   </extension>

   <extension point="org.eclipse.ui.bindings">
      <key
            commandId="org.codehaus.groovy.eclipse.groovyScriptLaunchShortcut.run"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M2+M3+X G"/>
      <key
            commandId="org.codehaus.groovy.eclipse.groovyScriptLaunchShortcut.debug"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M2+M3+D G"/>
      <key
            commandId="org.codehaus.groovy.eclipse.ui.convertToJava"
            contextId="org.eclipse.ui.contexts.window"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M3+G J"/>
      <key
            commandId="org.codehaus.groovy.eclipse.ui.convertToGroovy"
            contextId="org.eclipse.ui.contexts.window"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M3+J G"/>

      <key
            commandId="org.codehaus.groovy.eclipse.ui.convertToClosure"
            contextId="org.codehaus.groovy.eclipse.editor.groovyEditorScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M3+G F"/>
      <key
            commandId="org.codehaus.groovy.eclipse.ui.convertToMethod"
            contextId="org.codehaus.groovy.eclipse.editor.groovyEditorScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M3+G M"/>
      <key
            commandId="org.codehaus.groovy.eclipse.ui.convertToProperty"
            contextId="org.codehaus.groovy.eclipse.editor.groovyEditorScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+M2+,"/>

      <!-- Now disable all of the M3+G commands for Swiss German since that conflicts with '@' -->
      <!-- Reenable commands using M1+M3+G for Swiss German -->

      <!-- Use our Find occurrences command instead -->
      <key
            commandId="org.codehaus.groovy.eclipse.ui.findOccurrences"
            contextId="org.codehaus.groovy.eclipse.editor.groovyEditorScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+M2+U"/>
      <sequenceModifier
            find="M3+G"
            platforms="cocoa,carbon"
            replace="M3+M4+G">
      </sequenceModifier>
   </extension>

   <extension point="org.eclipse.ui.console.consolePatternMatchListeners">
      <consolePatternMatchListener id="org.codehaus.groovy.eclipse.ConsoleTracker"
            class="org.codehaus.groovy.eclipse.launchers.GroovyConsoleLineTracker"
            qualifier="\.groovy\)"
            regex="(\p{javaJavaIdentifierStart}\p{javaJavaIdentifierPart}*\.)*\p{javaJavaIdentifierStart}\p{javaJavaIdentifierPart}*\(\w+\.groovy\)">
         <enablement>
            <or>
               <test property="org.eclipse.debug.ui.processTypeTest" value="java"/>
               <test property="org.eclipse.debug.ui.processTypeTest" value="groovy"/>
               <test property="org.eclipse.ui.console.consoleTypeTest" value="javaStackTraceConsole"/>
               <test property="org.eclipse.debug.ui.processTypeTest" value="org.eclipse.ant.ui.antProcess"/>
            </or>
         </enablement>
      </consolePatternMatchListener>
   </extension>

   <extension point="org.eclipse.core.runtime.preferences">
      <initializer
            class="org.codehaus.groovy.eclipse.preferences.PreferenceInitializer">
      </initializer>
      <initializer
            class="org.codehaus.groovy.eclipse.preferences.FormatterPreferenceInitializer">
      </initializer>
      <initializer
            class="org.codehaus.groovy.eclipse.preferences.SaveActionsPreferenceInitializer">
      </initializer>
   </extension>

   <extension point="org.eclipse.jdt.ui.classpathContainerPage">
      <classpathContainerPage
            class="org.codehaus.groovy.eclipse.preferences.GroovyLibrariesContainerPage"
            id="GROOVY_SUPPORT"
            name="Groovy Runtime Libraries"><!-- see "Java Build Path > Libraries > Add Library..." -->
      </classpathContainerPage>
   </extension>

   <extension point="org.eclipse.ui.ide.projectNatureImages">
      <image
            icon="$nl$/icons/groovy_overlay.png"
            id="org.codehaus.groovy.eclipse.groovyNatureImage"
            natureId="org.eclipse.jdt.groovy.core.groovyNature">
      </image>
   </extension>

   <extension point="org.eclipse.ui.decorators">
      <decorator
            class="org.codehaus.groovy.eclipse.ui.decorators.GroovyImageDecorator"
            id="org.codehaus.groovy.eclipse.ui.decorator"
            label="Groovy Source File"
            lightweight="false"
            state="true">
         <description>
            Shows an image for Groovy Source files.
         </description>
      </decorator>
   </extension>

   <extension point="org.eclipse.ui.navigator.navigatorContent">
      <navigatorContent
            activeByDefault="true"
            contentProvider="org.eclipse.jdt.internal.ui.navigator.JavaNavigatorContentProvider"
            id="org.codehaus.groovy.eclipse.ui.groovyContent"
            labelProvider="org.codehaus.groovy.eclipse.ui.GroovyNavigatorLabelProvider"
            name="Groovy Sources"
            priority="high">
         <triggerPoints>
            <or>
               <instanceof value="org.codehaus.jdt.groovy.model.GroovyCompilationUnit"/>
               <instanceof value="org.eclipse.core.resources.IFile"/>
             </or>
         </triggerPoints>
         <possibleChildren>
            <or>
               <instanceof value="org.codehaus.jdt.groovy.model.GroovyCompilationUnit"/>
               <instanceof value="org.eclipse.core.resources.IFile"/>
            </or>
         </possibleChildren>
         <override
               policy="InvokeAlwaysRegardlessOfSuppressedExt"
               suppressedExtensionId="org.eclipse.jdt.java.ui.javaContent">
         </override>
      </navigatorContent>
   </extension>

   <extension point="org.eclipse.ui.navigator.viewer">
      <viewerContentBinding viewerId="org.eclipse.ui.navigator.ProjectExplorer">
         <includes>
            <contentExtension pattern="org.codehaus.groovy.eclipse.ui.groovyContent"/>
         </includes>
      </viewerContentBinding>
   </extension>

   <extension point="org.eclipse.core.runtime.adapters">
      <factory
            adaptableType="org.codehaus.jdt.groovy.model.GrabDeclaration"
            class="org.codehaus.groovy.eclipse.adapters.GrapesWorkbenchAdapter">
         <adapter
               type="org.eclipse.ui.model.IWorkbenchAdapter"/>
      </factory>
      <factory
            adaptableType="org.codehaus.jdt.groovy.model.GrapesContainer"
            class="org.codehaus.groovy.eclipse.adapters.GrapesWorkbenchAdapter">
         <adapter
               type="org.eclipse.ui.model.IWorkbenchAdapter"/>
      </factory>
   </extension>

   <extension point="org.eclipse.ui.editorActions">
      <!-- Ruler actions -->
      <editorContribution
            id="org.codehaus.groovy.editor.actions"
            targetID="org.codehaus.groovy.eclipse.editor.GroovyEditor">
         <action
               actionID="RulerDoubleClick"
               class="org.codehaus.groovy.eclipse.debug.ui.GroovyBreakpointRulerActionDelegate"
               id="org.codehaus.groovy.editor.ruler.ToggleBreakpointRulerAction"
               label="Toggle Breakpoint">
         </action>
         <action
               actionID="RulerClick"
               class="org.eclipse.jdt.internal.ui.javaeditor.JavaSelectRulerAction"
               id="org.codehaus.groovy.editor.ruler.SelectAnnotationRulerAction"
               label="Select Annotation">
         </action>
         <action
               class="org.codehaus.groovy.eclipse.editor.actions.FindOccurrencesAction"
               definitionId="org.codehaus.groovy.eclipse.ui.findOccurrences"
               id="org.codehaus.groovy.eclipse.ui.action.findOccurrences"
               label="Find Occurrences in file">
         </action>
      </editorContribution>
      <editorContribution
            id="org.codehaus.groovy.class_editor.actions"
            targetID="org.eclipse.jdt.ui.ClassFileEditor">
         <action
               actionID="RulerDoubleClick"
               class="org.codehaus.groovy.eclipse.debug.ui.GroovyBreakpointRulerActionDelegate"
               id="org.codehaus.groovy.class_editor.ruler.ToggleBreakpointRulerAction"
               label="Toggle Breakpoint">
            <!--enablement>
               TODO: For now this applies to all .class files with source attachment
            </enablement-->
         </action>
      </editorContribution>
   </extension>

   <extension point="org.eclipse.ui.editors.markerUpdaters">
      <updater
            class="org.codehaus.groovy.eclipse.debug.ui.BreakpointUpdater"
            id="org.codehaus.groovy.eclipse.breakpointUpdater"
            markerType="org.eclipse.debug.core.breakpointMarker">
      </updater>
   </extension>

   <extension point="org.eclipse.ui.actionSetPartAssociations">
      <actionSetPartAssociation
            targetID="org.eclipse.jdt.ui.A_OpenActionSet">
         <part
               id="org.codehaus.groovy.eclipse.editor.GroovyEditor">
         </part>
      </actionSetPartAssociation>
      <actionSetPartAssociation
            targetID="org.eclipse.jdt.ui.CodingActionSet">
         <part
               id="org.codehaus.groovy.eclipse.editor.GroovyEditor">
         </part>
      </actionSetPartAssociation>
      <actionSetPartAssociation
            targetID="org.eclipse.jdt.ui.JavaActionSet">
         <part
               id="org.codehaus.groovy.eclipse.editor.GroovyEditor">
         </part>
      </actionSetPartAssociation>
      <actionSetPartAssociation
            targetID="org.eclipse.jdt.ui.SearchActionSet">
         <part
               id="org.codehaus.groovy.eclipse.editor.GroovyEditor">
         </part>
      </actionSetPartAssociation>
      <actionSetPartAssociation
            targetID="org.eclipse.jdt.ui.text.java.actionSet.presentation">
         <part
               id="org.codehaus.groovy.eclipse.editor.GroovyEditor">
         </part>
      </actionSetPartAssociation>
      <actionSetPartAssociation
            targetID="org.eclipse.ui.edit.text.actionSet.presentation">
         <part
               id="org.codehaus.groovy.eclipse.editor.GroovyEditor">
         </part>
      </actionSetPartAssociation>
   </extension>

   <extension point="org.eclipse.jdt.debug.javaLogicalStructures">
      <javaLogicalStructure
            description="Groovy Reference Objects, used within Groovy closures"
            subtypes="true"
            type="groovy.lang.Reference"
            value="return get();">
      </javaLogicalStructure>
   </extension>

   <extension point="org.eclipse.ui.console.consoleFactories">
      <consoleFactory
            class="org.codehaus.groovy.eclipse.ui.console.GroovyConsoleFactory"
            icon="$nl$/icons/run_as_groovy.png"
            label="Groovy Event Console">
      </consoleFactory>
   </extension>

   <extension point="org.eclipse.jdt.ui.javaEditorTextHovers">
      <hover
            activate="true"
            class="org.codehaus.groovy.eclipse.editor.GroovyExtraInformationHover"
            description="Shows the 'doc' property supplied by a Groovy DSLD or Inferencing Suggestion"
            id="org.codehaus.groovy.eclipse.GroovyExtraHover"
            label="Groovy Inferencing">
      </hover>
   </extension>

   <extension point="org.eclipse.ui.workbench.texteditor.hyperlinkDetectorTargets">
      <target
            description="Hyperlink target for URL Mappings"
            id="org.codehaus.groovy.eclipse.groovyCode"
            name="Hyperlink target for URL Mappings">
         <context
               type="org.codehaus.groovy.eclipse.editor.GroovyEditor">
         </context>
      </target>
   </extension>

   <extension point="org.eclipse.jdt.ui.queryParticipants">
      <queryParticipant
            class="org.codehaus.groovy.eclipse.search.SyntheticAccessorQueryParticipant"
            id="org.codehaus.groovy.eclipse.ui.syntheticAccessorQueryParticipant"
            name="Groovy synthetic getter and setter references"
            nature="org.eclipse.jdt.groovy.core.groovyNature">
      </queryParticipant>
   </extension>

   <extension point="org.eclipse.ui.propertyPages">
      <page
            adaptable="true"
            class="org.codehaus.groovy.eclipse.preferences.CompilerPreferencesPage"
            id="org.codehaus.groovy.eclipse.preferences.compiler.project"
            name="Groovy Compiler"
            objectClass="org.eclipse.core.resources.IProject">
         <filter
               name="nature"
               value="org.eclipse.jdt.groovy.core.groovyNature">
         </filter>
      </page>
   </extension>

   <extension point="org.eclipse.ui.ide.markerResolution">
      <markerResolutionGenerator
            class="org.codehaus.groovy.eclipse.actions.CompilerMismatchMarkerResolutionGenerator"
            markerType="org.codehaus.groovy.eclipse.core.compilerMismatch">
      </markerResolutionGenerator>
   </extension>

   <extension point="org.eclipse.ui.keywords">
      <keyword
            id="org.codehaus.groovy.eclipse.ui.keyword.compiler"
            label="groovy compiler script folder">
      </keyword>
      <keyword
            id="org.codehaus.groovy.eclipse.ui.keyword.contentassist"
            label="groovy content assist">
      </keyword>
      <keyword
            id="org.codehaus.groovy.eclipse.ui.keyword.debugger"
            label="groovy debugger">
      </keyword>
      <keyword
            id="org.codehaus.groovy.eclipse.ui.keyword.dsld"
            label="groovy dsl dsld domain descriptor">
      </keyword>
      <keyword
            id="org.codehaus.groovy.eclipse.ui.keyword.editor"
            label="groovy editor">
      </keyword>
      <keyword
            id="org.codehaus.groovy.eclipse.ui.keyword.formatter"
            label="groovy formatter">
      </keyword>
      <keyword
            id="org.codehaus.groovy.eclipse.ui.keyword.groovy"
            label="groovy">
      </keyword>
   </extension>

   <extension
         point="org.eclipse.e4.ui.css.swt.theme">
      <stylesheet
            uri="e4_dark.css">
         <themeid
               refid="org.eclipse.e4.ui.css.theme.e4_dark">
         </themeid>
      </stylesheet>
      <stylesheet
            uri="e4_light.css">
         <themeid
               refid="org.eclipse.e4.ui.css.theme.e4_default">
         </themeid>
      </stylesheet>
   </extension>

</plugin>
